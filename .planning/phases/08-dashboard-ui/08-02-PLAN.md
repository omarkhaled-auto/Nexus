---
phase: 08-dashboard-ui
plan: 02
type: execute
depends_on: ["08-01"]
files_modified:
  - src/renderer/src/components/dashboard/MetricCard.tsx
  - src/renderer/src/components/dashboard/OverviewCards.tsx
  - src/renderer/src/components/dashboard/ProgressChart.tsx
  - src/renderer/src/components/dashboard/index.ts
---

<objective>
Create core dashboard metric cards and progress chart visualization.

Purpose: Build the "glance-and-go" summary components that show task progress, active agents, and completion estimates at a glance.
Output: OverviewCards with 4 metric cards, ProgressChart with Recharts area chart, both styled for dark theme.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-dashboard-ui/08-CONTEXT.md
@.planning/phases/08-dashboard-ui/08-RESEARCH.md

**Prior plan context:**
@.planning/phases/08-dashboard-ui/08-01-SUMMARY.md

**Existing patterns:**
@src/renderer/src/components/kanban/ComplexityBadge.tsx
@src/renderer/src/components/kanban/ProgressIndicator.tsx

**Store selectors available (from 08-01):**
- useOverview, useTaskProgress, useActiveAgentCount
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MetricCard base component</name>
  <files>src/renderer/src/components/dashboard/MetricCard.tsx</files>
  <action>
    Create reusable MetricCard component with props:
    - title: string (label above value)
    - value: string | number (large display value)
    - subtitle?: string (secondary info below value)
    - icon?: ReactNode (Lucide icon in top-right)
    - trend?: 'up' | 'down' | 'neutral' (optional trend indicator)

    Styling (dark theme, consistent with Nexus aesthetic):
    - rounded-lg border border-border bg-card p-4
    - Title: text-sm text-muted-foreground
    - Value: text-2xl font-bold (white/foreground)
    - Trend: green-500 for up, red-500 for down, muted for neutral
    - Icon: muted-foreground, positioned top-right

    Follow the pattern from ComplexityBadge for consistent styling approach.
  </action>
  <verify>Component renders without errors, TypeScript compiles</verify>
  <done>MetricCard displays title, value, optional subtitle/icon/trend with proper dark theme styling</done>
</task>

<task type="auto">
  <name>Task 2: Create OverviewCards grid component</name>
  <files>src/renderer/src/components/dashboard/OverviewCards.tsx</files>
  <action>
    Create OverviewCards that renders 4 MetricCard instances in a responsive grid:

    1. **Total Features** - icon: Layers, value from overview.totalFeatures
    2. **Completed Tasks** - icon: CheckCircle2, value: "X/Y" format with percentage, trend based on progress
    3. **Active Agents** - icon: Bot, value from useActiveAgentCount()
    4. **Est. Completion** - icon: Clock, value from overview.estimatedCompletion (formatted with date-fns formatDistanceToNow)

    Layout:
    - CSS Grid: grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4
    - Use selector hooks from metricsStore (useOverview, useTaskProgress, useActiveAgentCount)
    - Handle null overview gracefully (show loading state or zeros)

    Import Lucide icons: Layers, CheckCircle2, Bot, Clock
  </action>
  <verify>Component compiles, renders 4 cards in grid layout</verify>
  <done>OverviewCards shows 4 metric cards responsive grid, handles null state, uses store selectors</done>
</task>

<task type="auto">
  <name>Task 3: Create ProgressChart with Recharts</name>
  <files>src/renderer/src/components/dashboard/ProgressChart.tsx, src/renderer/src/components/dashboard/index.ts</files>
  <action>
    Create ProgressChart component using Recharts AreaChart:

    **Props:**
    - data: ProgressDataPoint[] (from metricsStore or passed as prop)
    - height?: number (default 300)

    **ProgressDataPoint type:**
    - time: string (formatted time label)
    - tasksCompleted: number
    - featuresCompleted: number (optional second line)

    **Implementation:**
    - Wrap in ResponsiveContainer width="100%" height={height}
    - Use AreaChart with CartesianGrid, XAxis, YAxis, Tooltip, Area
    - Dark theme colors (from 08-RESEARCH.md):
      - Grid: #374151, Axis: #9CA3AF
      - Area fill with linearGradient (purple #8884d8)
      - Tooltip: bg #1F2937, border #374151, text #F9FAFB
    - Animation: animationDuration={500}, animationEasing="ease-in-out"

    **Card wrapper:**
    - Wrap chart in Card component with header "Progress Over Time"
    - Add muted subtitle showing total completed

    **Create barrel export:**
    - Create src/renderer/src/components/dashboard/index.ts
    - Export MetricCard, OverviewCards, ProgressChart
  </action>
  <verify>
    - `pnpm typecheck` passes
    - Chart renders with sample data (create mock data for testing)
    - ResponsiveContainer resizes correctly
  </verify>
  <done>ProgressChart renders area chart with dark theme, smooth animations, responsive sizing. Barrel file exports all dashboard components.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm typecheck` - no TypeScript errors
- [ ] All 3 components render without errors
- [ ] ProgressChart resizes with container
- [ ] Dark theme colors applied correctly
- [ ] Barrel export includes all components
</verification>

<success_criteria>
- MetricCard component created with all props
- OverviewCards renders 4 cards in responsive grid
- ProgressChart renders Recharts AreaChart with dark theme
- All components use metricsStore selectors
- Barrel export at src/renderer/src/components/dashboard/index.ts
</success_criteria>

<output>
After completion, create `.planning/phases/08-dashboard-ui/08-02-SUMMARY.md`:

# Phase 08-02: Core Dashboard Components Summary

**[Substantive one-liner]**

## Accomplishments

- [Key outcomes]

## Files Created/Modified

- [Files with descriptions]

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 08-03-PLAN.md (Activity Components)
</output>
