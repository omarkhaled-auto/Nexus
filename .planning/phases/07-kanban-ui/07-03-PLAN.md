---
phase: 07-kanban-ui
plan: 03
type: execute
depends_on: ["07-02"]
files_modified: [src/renderer/src/components/kanban/ComplexityBadge.tsx, src/renderer/src/components/kanban/ProgressIndicator.tsx, src/renderer/src/components/kanban/AgentStatusIndicator.tsx, src/renderer/src/components/kanban/KanbanHeader.tsx, src/renderer/src/components/kanban/FeatureCard.tsx, src/renderer/src/components/kanban/index.ts, src/renderer/src/pages/KanbanPage.tsx]
---

<objective>
Enhance feature cards with visual indicators and add Kanban header.

Purpose: Add complexity badges, progress indicators, agent status, and board header.
Output: Polished feature cards with AI status visibility and overall board header.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-kanban-ui/07-CONTEXT.md
@.planning/phases/07-kanban-ui/07-02-SUMMARY.md
@src/renderer/src/components/kanban/FeatureCard.tsx
@src/renderer/src/types/feature.ts

**From 07-CONTEXT.md - Essential:**
- AI status integration: Show what agent is doing ("Running tests", "Fixing lint")
- Complexity badges: S/M/L/XL or simple/moderate/complex
- Progress on cards: Percentage complete, assigned agent

**From 07-CONTEXT.md - Specific Ideas:**
- Priority colors: Critical (red), High (orange), Medium (yellow), Low (gray)
- Column counts with WIP limit visible

**Established patterns:**
- Lucide icons (Layers, Shield, Cpu, etc.)
- Tailwind oklch colors
- shadcn Badge component available
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ComplexityBadge and ProgressIndicator</name>
  <files>src/renderer/src/components/kanban/ComplexityBadge.tsx, src/renderer/src/components/kanban/ProgressIndicator.tsx, src/renderer/src/components/kanban/index.ts</files>
  <action>
    Create ComplexityBadge.tsx:

    1. Props: complexity ('simple' | 'moderate' | 'complex')

    2. Display as small badge with icon and short label:
       - simple: "S" or "Simple", green-ish bg
       - moderate: "M" or "Moderate", yellow-ish bg
       - complex: "XL" or "Complex", red-ish bg

    3. Use shadcn Badge with variant="outline" + custom bg colors

    Style: text-xs, px-1.5, py-0.5, rounded

    ---

    Create ProgressIndicator.tsx:

    1. Props: progress (0-100 number), showLabel? (boolean)

    2. Render as horizontal progress bar:
       - Background: bg-muted
       - Fill: bg-primary (or color based on progress)
       - Height: h-1 or h-1.5

    3. Optionally show percentage label

    Style: rounded-full, transition-all for smooth updates

    Export both from index.ts.
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - Components export correctly
  </verify>
  <done>ComplexityBadge shows S/M/XL, ProgressIndicator shows bar with percentage</done>
</task>

<task type="auto">
  <name>Task 2: Create AgentStatusIndicator and enhance FeatureCard</name>
  <files>src/renderer/src/components/kanban/AgentStatusIndicator.tsx, src/renderer/src/components/kanban/FeatureCard.tsx, src/renderer/src/components/kanban/index.ts</files>
  <action>
    Create AgentStatusIndicator.tsx:

    1. Props: agentId? (string), status? (string like "Running tests", "Fixing lint")

    2. If no agent assigned, render nothing or "Unassigned" muted text

    3. If agent assigned, show:
       - Bot icon (Lucide Bot or similar)
       - Agent ID or type shortened
       - Current status with pulse animation if actively working

    4. Status examples from 07-CONTEXT.md:
       - "Running tests"
       - "Fixing lint"
       - "Code review"
       - "Awaiting review"

    Style: text-xs, flex items-center gap-1, text-muted-foreground

    ---

    Update FeatureCard.tsx to include:

    1. ComplexityBadge in top-right corner or after title
    2. ProgressIndicator below description
    3. AgentStatusIndicator at bottom of card
    4. Keep priority border on left side

    Layout:
    ```
    ┌─────────────────────────────┐
    │ [Title]         [S/M/XL]   │
    │ Description snippet...      │
    │ ────────────────────────── │
    │ [Progress bar ████░░░ 40%] │
    │ [Bot] Coder - Running tests │
    └─────────────────────────────┘
    ```

    Export AgentStatusIndicator from index.ts.
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - FeatureCard shows complexity, progress, and agent status
  </verify>
  <done>Cards display all visual indicators with proper layout</done>
</task>

<task type="auto">
  <name>Task 3: Create KanbanHeader and integrate into KanbanPage</name>
  <files>src/renderer/src/components/kanban/KanbanHeader.tsx, src/renderer/src/components/kanban/index.ts, src/renderer/src/pages/KanbanPage.tsx</files>
  <action>
    Create KanbanHeader.tsx:

    1. Props: projectName? (string), onNewFeature? (callback)

    2. Render header with:
       - "Evolution Mode" or project name as title
       - Total feature count badge
       - "Add Feature" button (for future use, can be disabled)
       - Maybe a simple search/filter input placeholder

    3. Style: Full-width header, flex justify-between, border-b, py-4, px-6

    ---

    Update KanbanPage.tsx:

    1. Import KanbanHeader and KanbanBoard from @renderer/components/kanban

    2. Replace placeholder content with:
       - KanbanHeader at top
       - KanbanBoard filling remaining space

    3. Add some demo features to store on mount for visual testing (can be removed later)
       - Create 3-4 sample features across different columns

    Style: Full height flex column, header fixed, board scrollable
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - KanbanPage renders header and board
    - Demo features visible in columns
  </verify>
  <done>KanbanPage shows header with project info and full Kanban board below</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm run typecheck` passes
- [ ] ComplexityBadge, ProgressIndicator, AgentStatusIndicator created
- [ ] FeatureCard displays all indicators
- [ ] KanbanHeader with title and feature count
- [ ] KanbanPage integrates header and board
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Feature cards show complexity, progress, agent status
- Board has header with project context
</success_criteria>

<output>
After completion, create `.planning/phases/07-kanban-ui/07-03-SUMMARY.md`:

# Phase 07-03: Feature Card Enhancements Summary

**[One-liner about what shipped]**

## Accomplishments

- Created ComplexityBadge (S/M/XL indicators)
- Created ProgressIndicator (progress bar)
- Created AgentStatusIndicator (AI status visibility)
- Created KanbanHeader with project info
- Enhanced FeatureCard with all indicators
- Integrated into KanbanPage

## Files Created

| File | Purpose |
|------|---------|
| src/renderer/src/components/kanban/ComplexityBadge.tsx | S/M/XL badge |
| src/renderer/src/components/kanban/ProgressIndicator.tsx | Progress bar |
| src/renderer/src/components/kanban/AgentStatusIndicator.tsx | Agent status |
| src/renderer/src/components/kanban/KanbanHeader.tsx | Board header |

## Files Modified

| File | Changes |
|------|---------|
| src/renderer/src/components/kanban/FeatureCard.tsx | Added indicators |
| src/renderer/src/pages/KanbanPage.tsx | Integrated components |

## Next Step

Ready for 07-04-PLAN.md (Feature Detail Modal)
</output>
