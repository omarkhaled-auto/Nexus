---
phase: 07-kanban-ui
plan: 01
type: tdd
depends_on: []
files_modified: [src/renderer/src/types/feature.ts, src/renderer/src/stores/featureStore.ts, src/renderer/src/stores/featureStore.test.ts, src/renderer/src/types/index.ts, src/renderer/src/stores/index.ts]
---

<objective>
Create feature state management with Zustand store following TDD discipline.

Purpose: Establish the data layer for Kanban board features with 6-column status progression.
Output: featureStore with full CRUD, drag operations, and ~20 passing tests.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./.claude/get-shit-done/references/tdd.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-kanban-ui/07-CONTEXT.md
@.planning/phases/07-kanban-ui/07-RESEARCH.md
@.planning/phases/05-ui-foundation/05-03-SUMMARY.md
@.planning/phases/06-interview-ui/06-01-SUMMARY.md
@src/renderer/src/stores/taskStore.ts
@src/renderer/src/stores/interviewStore.ts

**Tech stack available:**
- Zustand v5.0.10
- React 19
- TypeScript 5.3+
- Vitest for testing

**Established patterns:**
- Selector hooks for optimized re-renders (from 05-03)
- Types in separate file (from 06-01)
- TDD RED-GREEN-REFACTOR (from 05-03, 06-01)

**Feature status columns (from 07-CONTEXT.md):**
Backlog → Planning → In Progress → AI Review → Human Review → Done
</context>

<feature>
  <name>Feature Store with 6-Column Status Model</name>
  <files>src/renderer/src/types/feature.ts, src/renderer/src/stores/featureStore.ts, src/renderer/src/stores/featureStore.test.ts</files>
  <behavior>
    Feature type with id, title, description, status (6 columns), complexity, progress, assignedAgent, tasks[], priority, createdAt, updatedAt.

    Actions:
    - setFeatures(features) - bulk set
    - addFeature(feature) - add single
    - updateFeature(id, partial) - partial update
    - removeFeature(id) - delete
    - moveFeature(id, newStatus, newIndex?) - status change with optional reorder
    - reorderFeatures(columnId, oldIndex, newIndex) - within-column reorder
    - reset() - clear all

    Selectors:
    - useFeatures() - all features
    - useFeaturesByStatus(status) - filtered by column
    - useFeature(id) - single by ID
    - useFeatureCount() - total count
    - useColumnCounts() - count per column

    Cases:
    - Initial state has empty features array
    - addFeature adds to features array
    - moveFeature changes status and sets updatedAt
    - reorderFeatures preserves order within column
    - Complexity values: simple, moderate, complex
    - Priority values: low, medium, high, critical
  </behavior>
  <implementation>
    1. Create feature.ts with Feature interface and status/complexity/priority types
    2. Create featureStore with Zustand create()
    3. Implement all actions with proper typing
    4. Create selector hooks for each query pattern
    5. Export from stores/index.ts barrel
  </implementation>
</feature>

<verification>
- `pnpm test -- --testNamePattern "featureStore"` - All tests pass
- `pnpm test -- --testNamePattern "Store"` - Total store tests pass (~77+)
- `npx tsc --noEmit` - No TypeScript errors
</verification>

<success_criteria>
- Feature types defined with proper TypeScript interfaces
- featureStore created with all 7 actions
- 5 selector hooks for optimized queries
- ~20 tests covering all behaviors
- RED-GREEN-REFACTOR commits present
- Clean barrel exports from stores/index.ts
</success_criteria>

<output>
After completion, create `.planning/phases/07-kanban-ui/07-01-SUMMARY.md`:

# Phase 07-01: Feature Store Summary

**[One-liner about what shipped]**

## TDD Metrics

| Metric | Value |
|--------|-------|
| Tests Written | X |
| Status | ALL PASS |

## Accomplishments

- Created feature domain types
- Implemented featureStore with CRUD + drag operations
- Added selector hooks

## Files Created

| File | Purpose |
|------|---------|
| src/renderer/src/types/feature.ts | Feature domain types |
| src/renderer/src/stores/featureStore.ts | Zustand feature store |
| src/renderer/src/stores/featureStore.test.ts | TDD tests |

## Commits

| Hash | Message |
|------|---------|
| ... | test(07-01): add failing tests for featureStore (RED) |
| ... | feat(07-01): implement featureStore (GREEN) |
| ... | refactor(07-01): add selectors, optimize types |

## Next Step

Ready for 07-02-PLAN.md (Kanban Board Core)
</output>
